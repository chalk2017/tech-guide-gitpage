{"version":3,"sources":["webpack:///./src/components/page/JsCodeTest1.vue?da5a","webpack:///./src/components/page/TestCode.vue?2d18","webpack:///./src/components/page/JsCodeTest1.vue?8f5e","webpack:///./src/components/page/JsCodeTest1.vue?a104","webpack:///./src/components/page/JsCodeTest1.vue","webpack:///./src/components/page/JsCodeTest2.vue?58ed","webpack:///./src/components/page/JsCodeTest2.vue?d0bc","webpack:///./src/components/page/JsCodeTest2.vue","webpack:///./src/components/page/TestCode.vue?c1e4","webpack:///./src/components/page/TestCode.vue"],"names":["_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_tab_router_view","onChange","default","tagKey","key","_","onResize","src","item","title","ref","iframes","style","width","height","border","iframeCnt","screenZoom","components","setup","instance","value","Array","from","map","bindResize","name","window","bindResizeRef","onresize","existResizeFunc","ResizeFunc","event","cb","resizeFuncCon","ms","running","func","args","setTimeout","apply","resizeFunc","bind","ev","resizeIframe","realScreenWidth","screen","availWidth","zoom","innerWidth","contentDocument","body","waitingResizeIframe","Promise","resolve","maxCnt","cnt","timer","setInterval","clearInterval","br","console","log","__exports__","JsCodeTest1","JsCodeTest2"],"mappings":"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","file":"js/chunk-3c277308.ecb49fed.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./JsCodeTest1.vue?vue&type=style&index=0&id=652cf29a&lang=less\"","import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"code-mind-container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_tab_router_view = _resolveComponent(\"tab-router-view\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_tab_router_view, { onChange: _ctx.onChange }, {\n      default: _withCtx(() => [\n        (_ctx.tagKey == 'jsCodeTest1')\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(\"JsCodeTest1\"), { key: 0 }))\n          : _createCommentVNode(\"\", true),\n        (_ctx.tagKey == 'jsCodeTest2')\n          ? (_openBlock(), _createBlock(_resolveDynamicComponent(\"JsCodeTest2\"), { key: 1 }))\n          : _createCommentVNode(\"\", true)\n      ]),\n      _: 1\n    }, 8, [\"onChange\"])\n  ]))\n}","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\"\n\nconst _hoisted_1 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"js-code-test1-container\",\n    onResize: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.onResize && _ctx.onResize(...args)))\n  }, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.src, (item, key) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: \"frames\",\n        key: item.src\n      }, [\n        _createElementVNode(\"fieldset\", null, [\n          _createElementVNode(\"legend\", null, _toDisplayString(item.title), 1),\n          _createElementVNode(\"iframe\", {\n            ref: _ctx.iframes[key],\n            style: {\r\n            width: '100%',\r\n            height: '450px',\r\n            border: '0px',\r\n          },\n            src: item.src\n          }, null, 8, _hoisted_1)\n        ])\n      ]))\n    }), 128))\n  ], 32))\n}","\r\nimport {\r\n  defineComponent,\r\n  reactive,\r\n  ref,\r\n  toRefs,\r\n  getCurrentInstance,\r\n  onMounted,\r\n  onDeactivated,\r\n} from \"vue\";\r\nimport { useService } from \"@hybridapi/service\";\r\nimport { useTheme } from \"/@/plugins/theme\";\r\nimport { useRefresh } from \"/@/plugins/afterTick\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useRouter, useRoute } from \"/@/router\";\r\n// 最大iframe数量\r\nconst iframeCnt = 10;\r\n// 屏幕缩放比例\r\nconst screenZoom = 0.8;\r\nexport default defineComponent({\r\n  components: {},\r\n  setup() {\r\n    const instance = getCurrentInstance();\r\n    const refresh = useRefresh(instance);\r\n    const src = ref([\r\n      { title: \"HTML Test\", src: \"testing/html_sample.html\" },\r\n      { title: \"HTML Test\", src: \"testing/js_sample.html\" },\r\n    ]);\r\n    const iframes = ref([]);\r\n    iframes.value = Array.from(new Array(iframeCnt)).map(() => ref());\r\n    // 绑定resize方法\r\n    const bindResize = (name) => {\r\n      if (!(window as any).bindResizeRef) {\r\n        (window as any).bindResizeRef = {};\r\n      }\r\n      const bindResizeRef = (window as any).bindResizeRef;\r\n      if (!bindResizeRef[name]) {\r\n        bindResizeRef[name] = {};\r\n      }\r\n      if (window.onresize && !bindResizeRef[name].existResizeFunc) {\r\n        bindResizeRef[name].existResizeFunc = window.onresize;\r\n      }\r\n      bindResizeRef[name].ResizeFunc = (event, cb) => {\r\n        cb(event);\r\n      };\r\n      const resizeFuncCon = (cb, ms) => {\r\n        let running = false;\r\n        const func = (...args) => {\r\n          if (running) {\r\n            //\r\n          } else {\r\n            running = true;\r\n            setTimeout(() => {\r\n              cb.apply(window, args);\r\n              running = false;\r\n            }, ms);\r\n          }\r\n        };\r\n        return func;\r\n      };\r\n      const resizeFunc = resizeFuncCon(bindResizeRef[name].ResizeFunc, 20);\r\n      return {\r\n        bind(func) {\r\n          window.onresize = (ev) => {\r\n            if (bindResizeRef[name].existResizeFunc) {\r\n              bindResizeRef[name].existResizeFunc(ev);\r\n            }\r\n            resizeFunc(ev, func);\r\n          };\r\n        },\r\n      };\r\n    };\r\n    //iframe缩放\r\n    const resizeIframe = () => {\r\n      // 屏幕宽高\r\n      // console.log(screen.availWidth, screen.availHeight);\r\n      const realScreenWidth = screen.availWidth / screenZoom;\r\n      // const realScreenHeight = screen.availHeight / screenZoom;\r\n      const zoom = window.innerWidth / realScreenWidth;\r\n      for (const item of iframes.value) {\r\n        if (item.value?.contentDocument) {\r\n          item.value.contentDocument.body.style = \"zoom:\" + zoom;\r\n        }\r\n      }\r\n    };\r\n    const waitingResizeIframe = () => {\r\n      return new Promise((resolve) => {\r\n        const maxCnt = 10;\r\n        let cnt = -3000; // 30秒\r\n        const timer = setInterval(() => {\r\n          if (cnt > maxCnt) {\r\n            clearInterval(timer);\r\n            // resolve(cnt);\r\n          }\r\n          if (iframes.value[0]?.value?.contentDocument?.body?.style) {\r\n            resizeIframe();\r\n            // clearInterval(timer);\r\n            // resolve(cnt);\r\n          }\r\n          cnt++;\r\n        }, 10);\r\n      });\r\n    };\r\n    onMounted(async () => {\r\n      await waitingResizeIframe();\r\n      const br = bindResize(\"JsCodeTest1\");\r\n      br.bind((ev) => {\r\n        // console.log(iframes.value);\r\n        // console.log(ev);\r\n        // 浏览器窗口宽高\r\n        // console.log(ev.currentTarget.innerWidth, ev.currentTarget.innerHeight);\r\n        resizeIframe();\r\n      });\r\n    });\r\n    const onResize = (event) => {\r\n      console.log(event);\r\n    };\r\n    return {\r\n      iframes,\r\n      src,\r\n      onResize,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./JsCodeTest1.vue?vue&type=template&id=652cf29a&ts=true\"\nimport script from \"./JsCodeTest1.vue?vue&type=script&lang=ts\"\nexport * from \"./JsCodeTest1.vue?vue&type=script&lang=ts\"\n\nimport \"./JsCodeTest1.vue?vue&type=style&index=0&id=652cf29a&lang=less\"\n\nimport exportComponent from \"C:\\\\workspace_vue3\\\\tech-guide-dev\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"js-code-test2-container\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n}","\r\nimport {\r\n  defineComponent,\r\n  reactive,\r\n  ref,\r\n  toRefs,\r\n  getCurrentInstance,\r\n} from \"vue\";\r\nimport { useService } from \"@hybridapi/service\";\r\nimport { useTheme } from \"/@/plugins/theme\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useRouter, useRoute } from \"/@/router\";\r\n\r\nexport default defineComponent({\r\n  components: {},\r\n  setup() {\r\n    return {};\r\n  },\r\n});\r\n","import { render } from \"./JsCodeTest2.vue?vue&type=template&id=63d54ef4&ts=true\"\nimport script from \"./JsCodeTest2.vue?vue&type=script&lang=ts\"\nexport * from \"./JsCodeTest2.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\workspace_vue3\\\\tech-guide-dev\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","\r\nimport {\r\n  defineComponent,\r\n  reactive,\r\n  ref,\r\n  toRefs,\r\n  getCurrentInstance,\r\n} from \"vue\";\r\nimport { useService } from \"@hybridapi/service\";\r\nimport { useTheme } from \"/@/plugins/theme\";\r\nimport { useI18n } from \"vue-i18n\";\r\nimport { useRouter, useRoute } from \"/@/router\";\r\nimport JsCodeTest1 from \"./JsCodeTest1.vue\";\r\nimport JsCodeTest2 from \"./JsCodeTest2.vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    JsCodeTest1,\r\n    JsCodeTest2,\r\n  },\r\n  setup() {\r\n    const tagKey = ref(\"jsCodeTest1\");\r\n    const onChange = ({ key }) => {\r\n      tagKey.value = key;\r\n    };\r\n    return {\r\n      tagKey,\r\n      onChange,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./TestCode.vue?vue&type=template&id=0bc0d548&ts=true\"\nimport script from \"./TestCode.vue?vue&type=script&lang=ts\"\nexport * from \"./TestCode.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\workspace_vue3\\\\tech-guide-dev\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}